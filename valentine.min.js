/*!
  * Valentine: When writing JavaScript, Valentine is your sister.
  * copyright Dustin Diaz & Jacob Thornton 2011 (@ded @fat)
  * https://github.com/ded/valentine
  * License MIT
  */
!function(a){function h(a,b){for(var c in b)a[c]=b[c]}var b={},c=Array.prototype,d=Object.prototype,e="map"in c,f="reduce"in c,g={each:e?function(a,b,d){c.forEach.call(a,b,d)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},map:e?function(a,b,d){return c.map.call(a,b,d)}:function(a,b,c){var d=[];for(var e=0,f=a.length;e<f;e++)d[e]=b.call(c,a[e],e,a);return d},some:e?function(a,b,d){return c.some.call(a,b,d)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return!0;return!1},every:e?function(a,b,d){return c.every.call(a,b,d)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!b.call(c,a[d],d,a))return!1;return!0},filter:e?function(a,b,d){return c.filter.call(a,b,d)}:function(a,b,c){var d=[];for(var e=0,f=0,g=a.length;e<g;e++){if(!b.call(c,a[e],e,a))continue;d[f++]=a[e]}return d},indexOf:e?function(a,b,d){return c.indexOf.call(a,b,d)}:function(a,b,c){c=c||0;for(var d=0;d<a.length;d++)if(a[d]===b)return d;return-1},lastIndexOf:e?function(a,b,d){return c.lastIndexOf.call(a,b,d)}:function(a,b,c){c=c||a.length,c=c>=a.length?a.length:c<0?a.length+c:c;for(var d=c;d>=0;--d)if(a[d]===b)return d;return-1},reduce:f?function(a,b,d,e){return c.reduce.call(a,b,d,e)}:function(a,b,c,d){var e=!i.und(c);!a&&(a=[]),g.each(a,function(a,f,g){!e&&f===0?(c=a,e=!0):c=b.call(d,c,a,f,g)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},reduceRight:f?function(a,b,d,e){return c.reduceRight.call(a,b,d,e)}:function(a,c,d,e){!a&&(a=[]);var f=(i.arr(a)?a.slice():b.toArray(a)).reverse();return g.reduce(f,c,d,e)},find:function(a,b,c){var d;g.some(a,function(a,e,f){if(b.call(c,a,e,f)){d=a;return!0}});return d},reject:function(a,b,c){var d=[];for(var e=0,f=0,g=a.length;e<g;e++){if(b.call(c,a[e],e,a))continue;d[f++]=a[e]}return d},size:function(a){return j.toArray(a).length},invoke:function(a,b){var d=c.slice.call(arguments,2);return g.map(a,function(a){return(b?a[b]:a).apply(a,d)})},pluck:function(a,b){return g.map(a,function(a){return a[b]})}},i={fun:function(a){return typeof a=="function"},str:function(a){return typeof a=="string"},ele:function(a){!!a&&!!a.nodeType&&a.nodeType==1},arr:function(a){return a instanceof Array},num:function(a){return typeof a=="number"},bool:function(a){return a===!0||a===!1},args:function(a){return!!a&&!!d.hasOwnProperty.call(a,"callee")},emp:function(a){var b=0;return i.arr(a)?a.length===0:i.obj(a)?function(){for(var c in a){b++;break}return b===0}():a===""},dat:function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},reg:function(a){return!(!(a&&a.test&&a.exec)||!a.ignoreCase&&a.ignoreCase!==!1)},nan:function(a){return a!==a},nil:function(a){return a===null},und:function(a){return typeof a=="undefined"}},j={each:function(a,b,c){i.arr(a)?g.each(a,b,c):function(){for(var e in a)d.hasOwnProperty.call(a,e)&&b.call(c,e,a[e],a)}()},map:function(a,b,c){var e=[],f=0;return i.arr(a)?g.map(a,b,c):!function(){for(var g in a)d.hasOwnProperty.call(a,g)&&(e[f++]=b.call(c,g,a[g],a))}()&&e},toArray:function(a){if(!a)return[];if(a.toArray)return a.toArray();if(i.arr(a))return a;if(i.args(a))return c.slice.call(a);return g.map(a,function(a,b){return a})}};h(b,g),h(b,j),b.is=i;var k=a.v;b.noConflict=function(){a.v=k;return this},typeof module!="undefined"&&module.exports?module.exports=b:a.v=b}(this)